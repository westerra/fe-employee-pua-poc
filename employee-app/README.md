# Backbase Employee Web App

Generated from the `employee-web-app` schematic in the package `@backbase/employee-web-app-schematics`.

## Updating

Run `npm run update` to update to the latest minor/patch version of the currently-installed major version.
Run `npm run update-next-major` to update to the next major release.

## Project structure

Several files generated by the schematic should not be edited directly as doing so may prevent future versions of the
schematic from applying updates to them. Such files all contain a warning comment at the start to clearly identify them.

This includes the `src/app.module.ts` file which defines the root Angular `AppModule`. However, this file imports values
from several other files which may be edited freely and can therefore be used to provide customisation of the `AppModule`:

- `src/app-module-imports.ts` contains an array of Angular Modules which is imported by the `src/app.module.ts` file.
  Any entries in this array are added to the list of Angular modules imported by the root `AppModule`, so you can use
  this file to add any custom Angular modules you require to the `AppModule` imports.
- `src/app-module-routes.ts` contains an array of Angular Routes which is imported by the `src/app.module.ts` file.
  Any entries in this array are added _at the start_ of the routes list provided to the root Angular `RouterModule`
  by the `AppModule`. Therefore, any routing customisations can be provided in this file.
- The `environment.ts` and `environment.prod.ts` files in `src/environments` can be used to provide several app
  customisations, including, but not limited to, custom `AppModule` providers and custom `apiRoot`.

### Styling

Replace the generated `/src/favicon.ico` and `/src/assets/logo-emblem.svg` files with your own logos.

CSS styles can be overridden by adding styling to `/src/styles.scss`.

## Building as a container

To create a container image of the app and push it to your container registry, run the following commands:

```shell
npm run build:employee-app
docker build -f ./employee-app/Dockerfile -t your-container-registry.example.com/employee-app .
docker push your-container-registry.example.com/employee-app
```

The environment file `src/environments/environment.prod.ts` is used when building the app with `npm run build:employee-app`.

See the file `example.deployment.yaml` for an example of how to deploy the containerised app to a kubernetes cluster.

## Running

The web app requires a set of backend services (APIs) to run against. For local development, you can either:

- Configure proxies to a live or fake backend, see the official [Angular documentation](https://v12.angular.io/guide/build#proxying-to-a-backend-server) for configuring this.
- Enable mocks, set `enableMocks : true` in the `Developer Options > Application > Local Storage` browser settings.

## Documentation

The latest documentation for the Employee Web App is available [here](https://community.backbase.com/documentation/employee_web_app/latest/index).
